(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,a){e.exports=a(216)},117:function(e,t,a){},206:function(e,t,a){},216:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(23),o=a.n(s),c=a(75),l=(a(117),a(3)),i=a.n(l),m=a(5),u=a(7),p=a(13),d=a(9),h=a(8),f=a(10),g=a(2),b=a(52),E=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={isOpen:!1},a.toggleCollapse=function(){a.setState({isOpen:!a.state.isOpen})},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.user,t=window.location.pathname;return r.a.createElement(g.Navbar,{color:"purple darken-3",dark:!0,expand:"md",scrolling:!0,fixed:"top"},r.a.createElement(g.NavbarBrand,null,r.a.createElement(b.a,{to:"/"},r.a.createElement("strong",{className:"white-text"},"Tribune"))),r.a.createElement(g.NavbarToggler,{onClick:this.toggleCollapse}),r.a.createElement(g.Collapse,{id:"navbarCollapse3",isOpen:this.state.isOpen,navbar:!0},r.a.createElement(g.NavbarNav,{left:!0},r.a.createElement(g.NavItem,null,r.a.createElement(g.NavLink,{to:"/"}))),r.a.createElement(g.NavbarNav,{right:!0},e&&r.a.createElement(g.NavItem,null,r.a.createElement(g.Dropdown,null,r.a.createElement(g.DropdownToggle,{nav:!0,caret:!0},e.username),r.a.createElement(g.DropdownMenu,{className:"dropdown-default",right:!0},r.a.createElement(b.a,{className:"dropdown-item",to:"/profile"},r.a.createElement(g.MDBIcon,{icon:"leaf mr-2"})," My Profile"),r.a.createElement(b.a,{className:"dropdown-item",to:"/changepassword"}," ",r.a.createElement(g.MDBIcon,{icon:"key mr-2"})," Change Password"),r.a.createElement(b.a,{className:"dropdown-item",to:"/logout"},r.a.createElement(g.MDBIcon,{icon:"wheelchair-alt mr-2"})," Log Out")))),!e&&r.a.createElement(g.NavItem,null,"/login"===t?r.a.createElement(g.NavLink,{to:"/register"},"Register"):r.a.createElement(g.NavLink,{to:"/login"},"Login")))))}}]),t}(n.Component),v=a(77),w=a(53),y=a(76),x=a(21),O=a(17),j=a.n(O),C=a(218),k=a(6),N=a.n(k);N.a.defaults.baseURL="http://10.10.10.77:8000/";var D=localStorage.getItem("token");function B(e){return M.apply(this,arguments)}function M(){return(M=Object(m.a)(i.a.mark(function e(t){var a,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!D){e.next=10;break}return N.a.defaults.xsrfHeaderName="X-CSRFTOKEN",N.a.defaults.xsrfCookieName="csrftoken",N.a.defaults.headers={"Content-Type":"application/json",Authorization:"Token ".concat(D)},e.next=6,N.a.get(t);case 6:return a=e.sent,e.abrupt("return",a);case 10:return N.a.defaults.xsrfHeaderName="X-CSRFTOKEN",N.a.defaults.xsrfCookieName="csrftoken",N.a.defaults.headers={"Content-Type":"application/json"},e.prev=13,e.next=16,N.a.get(t);case 16:return n=e.sent,e.abrupt("return",n);case 20:e.prev=20,e.t0=e.catch(13),console.log(e.t0.response);case 23:case"end":return e.stop()}},e,this,[[13,20]])}))).apply(this,arguments)}function S(e,t){return I.apply(this,arguments)}function I(){return(I=Object(m.a)(i.a.mark(function e(t,a){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!D){e.next=8;break}return N.a.defaults.xsrfHeaderName="X-CSRFTOKEN",N.a.defaults.xsrfCookieName="csrftoken",N.a.defaults.headers={"Content-Type":"application/json",Authorization:"Token ".concat(D)},e.next=6,N.a.post(t,a);case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function T(e,t){return P.apply(this,arguments)}function P(){return(P=Object(m.a)(i.a.mark(function e(t,a){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!D){e.next=8;break}return N.a.defaults.xsrfHeaderName="X-CSRFTOKEN",N.a.defaults.xsrfCookieName="csrftoken",N.a.defaults.headers={"Content-Type":"application/json",Authorization:"Token ".concat(D)},e.next=6,N.a.put(t,a);case 6:return n=e.sent,e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function F(e){return R.apply(this,arguments)}function R(){return(R=Object(m.a)(i.a.mark(function e(t){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!D){e.next=8;break}return N.a.defaults.xsrfHeaderName="X-CSRFTOKEN",N.a.defaults.xsrfCookieName="csrftoken",N.a.defaults.headers={"Content-Type":"application/json",Authorization:"Token ".concat(D)},e.next=6,N.a.delete(t);case 6:return a=e.sent,e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var A={get:N.a.get,post:N.a.post,put:N.a.put,delete:N.a.delete},_="rest-auth/login/",q="rest-auth/logout/",z="rest-auth/registration/";function H(e,t){return U.apply(this,arguments)}function U(){return(U=Object(m.a)(i.a.mark(function e(t,a){var n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post(_,{username:t,password:a});case 2:n=e.sent,localStorage.setItem("token",n.data.key);case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function W(e){return L.apply(this,arguments)}function L(){return(L=Object(m.a)(i.a.mark(function e(t){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.post(z,t);case 2:a=e.sent,localStorage.setItem("token",a.data.key);case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function K(){return(K=Object(m.a)(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.removeItem("token"),e.next=3,A.post(q);case 3:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}var X=a(29),Y=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={data:{},errors:{}},a.validate=function(){var e=j.a.validate(a.state.data,a.schema,{abortEarly:!1}).error,t={};if(!e)return null;var n=!0,r=!1,s=void 0;try{for(var o,c=e.details[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var l=o.value;t[l.path[0]]=l.message}}catch(i){r=!0,s=i}finally{try{n||null==c.return||c.return()}finally{if(r)throw s}}return t},a.validateProperty=function(e){var t=e.name,n=e.value,r=Object(X.a)({},t,n),s=Object(X.a)({},t,a.schema[t]),o=j.a.validate(r,s).error;return o?o.details[0].message:null},a.handleSubmit=function(e){e.preventDefault();var t=a.validate();a.setState({errors:t||{}}),t||a.doSubmit()},a.handleChange=function(e){var t=e.currentTarget,n=Object(x.a)({},a.state.errors),r=a.validateProperty(t);r?n[t.name]=r:delete n[t.name];var s=Object(x.a)({},a.state.data);s[t.name]=t.value,a.setState({data:s,errors:n})},a}return Object(f.a)(t,e),t}(n.Component),J=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={data:{},errors:{}},a.schema={username:j.a.string().required().label("Username"),password:j.a.string().required().label("Password")},a.doSubmit=Object(m.a)(i.a.mark(function e(){var t,n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a.state.data,e.next=4,H(t.username,t.password);case 4:n=a.props.location.state,window.location=n?n.from.pathname:"/",e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response&&400===e.t0.response.status&&((r=Object(x.a)({},a.state.errors)).username="Invalid username or password",a.setState({errors:r}));case 11:case"end":return e.stop()}},e,this,[[0,8]])})),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){if(localStorage.getItem("token"))return r.a.createElement(y.a,{to:"/"});var e=this.state.errors;return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.MDBContainer,null,r.a.createElement(g.MDBRow,{className:"center"},r.a.createElement(g.MDBCol,{md:"5"},r.a.createElement(g.MDBCard,null,r.a.createElement(g.MDBCardBody,{className:"mx-4"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h3",{className:"dark-grey-text mb-5"},r.a.createElement("strong",null,"Sign in"))),e.username&&r.a.createElement(C.a,{type:"error",message:e.username}),e.password&&r.a.createElement(C.a,{type:"error",message:e.password}),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(g.MDBInput,{onChange:this.handleChange,label:"Username",name:"username",group:!0,type:"text",validate:!0,error:"wrong",success:"right"}),r.a.createElement(g.MDBInput,{onChange:this.handleChange,label:"Password",name:"password",group:!0,type:"password",validate:!0,containerClass:"mb-0"}),r.a.createElement("p",{className:"font-small blue-text d-flex justify-content-end pb-3"}," Forgot",r.a.createElement("a",{href:"#!",className:"blue-text ml-1"}," Password?")),r.a.createElement("div",{className:"text-center mb-3"},r.a.createElement(g.MDBBtn,{type:"submit",gradient:"blue",rounded:!0,className:"btn-block z-depth-1a"}," Sign in ")))),r.a.createElement(g.MDBModalFooter,{className:"mx-5 pt-3 mb-1"},r.a.createElement("p",{className:"font-small grey-text d-flex justify-content-end"}," Not a member?",r.a.createElement(b.a,{to:"/register",className:"blue-text ml-1"}," Sign Up "))))))))}}]),t}(Y),V=a(109),$=a(217),G=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={data:{title:"",content:""}},a.handleChange=function(e){var t=e.currentTarget,n=Object(x.a)({},a.state.data);n[t.name]=t.value,a.setState({data:n})},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentWillReceiveProps",value:function(){var e=this.props.content;this.setState({data:e})}},{key:"render",value:function(){var e=this.props,t=e.modal,a=e.toggle,n=e.doSubmit,s=this.state.data;return r.a.createElement(g.Container,null,r.a.createElement(g.Modal,{isOpen:t,toggle:a,fullHeight:!0,position:"left"},r.a.createElement(g.ModalHeader,{toggle:a},"Fill form to add article"),r.a.createElement(g.ModalBody,null,r.a.createElement("form",null,r.a.createElement(g.MDBInput,{name:"title",label:"Title",size:"lg",onChange:this.handleChange,value:s.title}),r.a.createElement(g.MDBInput,{name:"content",label:"Type content here...",type:"textarea",rows:"20",onChange:this.handleChange,value:s.content}))),r.a.createElement(g.ModalFooter,null,r.a.createElement(g.Button,{color:"secondary",onClick:a},"Close"),r.a.createElement(g.Button,{color:"primary",onClick:function(){return n(s)}},"Save changes"))))}}]),t}(n.Component),Q=function(e){var t=e.posts;return r.a.createElement(n.Fragment,null,t.map(function(e){return r.a.createElement(g.MDBCol,{md:"4",key:e.id,style:{marginBottom:"1.5rem",display:"flex",justifyContent:"center"}},r.a.createElement(g.Card,{style:{width:"22rem"}},r.a.createElement(g.CardImage,{className:"img-fluid",src:"https://mdbootstrap.com/img/Photos/Others/images/17.jpg",waves:!0}),r.a.createElement(g.CardBody,null,r.a.createElement(g.CardTitle,null,e.title),r.a.createElement(g.CardText,null,e.content.substring(0,100),"..."),r.a.createElement(b.a,{className:"btn btn-unique Ripple-parent",to:"/post/".concat(e.id)},"View"))))}))},Z=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={data:[],post:{title:"",content:""},modal8:!1,isData:!0},a.toggle=function(e){var t="modal"+e;a.setState(Object(X.a)({},t,!a.state[t]))},a.openNotificationWithIcon=function(e){$.a[e]({message:"Post Created!",description:"You have created a new post"})},a.doSubmit=function(){var e=Object(m.a)(i.a.mark(function e(t){var n,r,s,o,c,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.user,r=Object(x.a)({},t,{user:n.pk}),(s=a.state.isData)||(s=!0),e.prev=4,e.next=7,S("api/",r);case 7:o=e.sent,c=o.data,l=[c].concat(Object(V.a)(a.state.data)),a.setState({data:l,modal8:!a.state.modal8,isData:s}),a.openNotificationWithIcon("success"),e.next=16;break;case 14:e.prev=14,e.t0=e.catch(4);case 16:case"end":return e.stop()}},e,this,[[4,14]])}));return function(t){return e.apply(this,arguments)}}(),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark(function e(){var t,a,n;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=!0,e.prev=1,e.next=4,B("api/");case 4:a=e.sent,0===(n=a.data).length&&(t=!1),this.setState({data:n,isData:t}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(1);case 12:case"end":return e.stop()}},e,this,[[1,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.data,s=t.modal8,o=t.post,c=t.isData,l=this.props.user;return c?r.a.createElement(n.Fragment,null,0===a.length?r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"loader small"})):r.a.createElement(n.Fragment,null,r.a.createElement(G,{modal:s,toggle:function(){return e.toggle(8)},doSubmit:this.doSubmit,content:o}),r.a.createElement(g.MDBContainer,{style:{marginTop:"5rem"}},r.a.createElement(g.MDBRow,null,r.a.createElement(g.MDBCol,{md:"12"},r.a.createElement("h2",{className:"text-center"},"Articles"),l&&r.a.createElement(g.Button,{color:"primary mb-4",onClick:function(){return e.toggle(8)}},"Create Post"),!l&&r.a.createElement("p",{className:"text-center"},"Sign in to Add and view articles"))),r.a.createElement(g.MDBRow,null,r.a.createElement(Q,{posts:a}))))):r.a.createElement(n.Fragment,null,r.a.createElement(G,{modal:s,toggle:function(){return e.toggle(8)},doSubmit:this.doSubmit,content:o}),r.a.createElement(g.MDBContainer,{style:{marginTop:"5rem"}},r.a.createElement(g.MDBRow,null,r.a.createElement(g.MDBCol,{md:"12"},r.a.createElement("p",{className:"text-center"},"No Posts Yet. Create post by clicking the button below"),l&&r.a.createElement(g.Button,{color:"primary",onClick:function(){return e.toggle(8)}},"Create Post")))))}}]),t}(n.Component),ee=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(g.MDBContainer,null,r.a.createElement(g.MDBRow,{className:"center"},r.a.createElement(g.MDBCol,{md:"5"},r.a.createElement("h2",{className:"text-center"},"404"),r.a.createElement("p",{className:"text-center"},"Not Found")))))}}]),t}(n.Component),te=function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){!function(){K.apply(this,arguments)}(),window.location="/"}},{key:"render",value:function(){return null}}]),t}(n.Component),ae=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={data:{},errors:{}},a.schema={new_password1:j.a.string().required().min(8).label("Password"),new_password2:j.a.string().required().valid(j.a.ref("new_password1")).label("Confirm Password").options({language:{any:{allowOnly:"!!Passwords do not match"}}})},a.openNotificationWithIcon=function(e){$.a[e]({message:"Password Changed",description:"Password changed successfully!"})},a.doSubmit=Object(m.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a.state.data,e.next=4,S("rest-auth/password/change/",t);case 4:200===e.sent.status&&a.openNotificationWithIcon("success"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[0,8]])})),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.state,t=e.errors,a=e.data;return r.a.createElement(n.Fragment,null,r.a.createElement(g.MDBContainer,{style:{marginTop:"5rem"}},r.a.createElement(g.MDBRow,{className:"center",style:{height:"auto"}},r.a.createElement(g.MDBCol,{md:"6"},r.a.createElement(g.MDBCard,null,r.a.createElement("div",{className:"header pt-3 grey lighten-2"},r.a.createElement(g.MDBRow,{className:"d-flex justify-content-center"},r.a.createElement("h3",{className:"deep-grey-text mt-3 mb-4 pb-1 mx-5"}," Change Password "))),r.a.createElement(g.MDBCardBody,{className:"mx-4 mt-4"},t.new_password1&&r.a.createElement(C.a,{type:"error",message:t.new_password1}),t.new_password2&&a.new_password2!==a.new_password1&&r.a.createElement(C.a,{type:"error",message:t.new_password2}),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(g.MDBInput,{label:"Password",name:"new_password1",type:"password",group:!0,validate:!0,onChange:this.handleChange,error:t.new_password1}),r.a.createElement(g.MDBInput,{label:"Confirm password",name:"new_password2",type:"password",group:!0,validate:!0,containerClass:"mb-0",onChange:this.handleChange,error:t.new_password2}),r.a.createElement("div",{className:"text-center mb-4 mt-5"},r.a.createElement(g.MDBBtn,{color:"purple",type:"submit",className:"btn-block z-depth-2"}," Change Password ")))))))))}}]),t}(Y),ne=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={post:{},modal8:!1,user:{pk:"",title:"",content:""}},a.getData=Object(m.a)(i.a.mark(function e(){var t,n,r,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match.params.id,e.prev=1,e.next=4,B("api/".concat(t,"/"));case 4:n=e.sent,r=n.data,a.setState({post:r[0]}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),e.t0.response&&404===e.t0.response.status&&a.props.history.replace("/not-found");case 12:s=a.props.user,a.setState({user:s});case 14:case"end":return e.stop()}},e,this,[[1,9]])})),a.toggle=function(e){var t="modal"+e;a.setState(Object(X.a)({},t,!a.state[t]))},a.doSubmit=function(){var e=Object(m.a)(i.a.mark(function e(t){var n,r,s,o,c,l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props,r=n.user,s=n.match,o=Object(x.a)({},t,{user:r.pk}),e.prev=2,e.next=5,T("api/".concat(s.params.id,"/"),o);case 5:c=e.sent,l=c.data,a.setState({post:l,modal8:!a.state.modal8}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}},e,this,[[2,10]])}));return function(t){return e.apply(this,arguments)}}(),a.doDelete=Object(m.a)(i.a.mark(function e(){var t;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.match,e.prev=1,e.next=4,F("api/".concat(t.params.id,"/"));case 4:e.sent,a.props.history.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}},e,this,[[1,8]])})),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.getData()},2e3)}},{key:"render",value:function(){var e=this,t=this.props.match,a=this.state,s=a.post,o=a.modal8,c=a.user;return r.a.createElement(n.Fragment,null,0===Object.keys(s).length?r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"loader small"})):r.a.createElement(n.Fragment,null,r.a.createElement(G,{modal:o,toggle:function(){return e.toggle(8)},doSubmit:this.doSubmit,content:s}),r.a.createElement(g.MDBContainer,{style:{marginTop:"5rem"}},c.pk===s.user?r.a.createElement(n.Fragment,null,r.a.createElement(g.Button,{color:"primary",onClick:function(){return e.toggle(8)}}," ",r.a.createElement(g.MDBIcon,{icon:"magic",className:"mr-2"}),"Edit Post"),r.a.createElement(g.Button,{color:"danger",onClick:this.doDelete}," ",r.a.createElement(g.MDBIcon,{icon:"trash-o",className:"mr-2"})," Delete")):r.a.createElement(n.Fragment,null,r.a.createElement(g.Button,{disabled:!0,color:"primary"},"Edit Post"),r.a.createElement(g.Button,{disabled:!0,color:"danger"},"Delete"),r.a.createElement("p",{className:"small text-muted"},"Cannot manipulate because you are not the owner of post")),r.a.createElement("div",{className:"text-area"},r.a.createElement("h2",{className:"text-center my-3"},"Post ",t.params.id,": ",s.title," "),r.a.createElement(g.MDBRow,{style:{justifyContent:"center"}},r.a.createElement(g.MDBCol,{md:"8"},r.a.createElement("p",{className:"text-center"},s.content)))))))}}]),t}(n.Component),re=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={posts:[],isData:!0},a.getUserData=Object(m.a)(i.a.mark(function e(){var t,n,r,s;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.user,n=!0,e.prev=2,e.next=5,B("api/profile/".concat(t.pk,"/"));case 5:r=e.sent,(s=r.data)||(n=!1),a.setState({posts:s,isData:n}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:case"end":return e.stop()}},e,this,[[2,11]])})),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){e.getUserData()},2e3)}},{key:"render",value:function(){var e=this.state,t=e.posts;return e.isData?r.a.createElement(n.Fragment,null,0===t.length?r.a.createElement("div",{className:"center"},r.a.createElement("div",{className:"loader small"})):r.a.createElement(g.MDBContainer,{style:{marginTop:"5rem"}},r.a.createElement(g.MDBRow,null,r.a.createElement(g.MDBCol,{md:"12"},r.a.createElement("p",{className:"text-center"},"These are my posts")),r.a.createElement(Q,{posts:t})))):r.a.createElement(n.Fragment,null,r.a.createElement(g.MDBContainer,{style:{marginTop:"5rem"}},r.a.createElement(g.MDBRow,null,r.a.createElement(g.MDBCol,{md:"12"},r.a.createElement("p",{className:"text-center"},"You have no posts")))))}}]),t}(n.Component),se=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={data:{},errors:{}},a.schema={username:j.a.string().required().min(3).label("Username"),email:j.a.string().email().required().label("Email"),password1:j.a.string().required().min(8).label("Password"),password2:j.a.string().required().valid(j.a.ref("password1")).label("Confirm Password").options({language:{any:{allowOnly:"!!Passwords do not match"}}})},a.doSubmit=Object(m.a)(i.a.mark(function e(){var t,n,r;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a.state.data,e.next=4,W(t);case 4:n=a.props.location.state,window.location=n?n.from.pathname:"/",e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response&&400===e.t0.response.status&&(r=Object(x.a)({},a.state.errors),void 0!==e.t0.response.data.username&&(r.username=e.t0.response.data.username[0]),void 0!==e.t0.response.data.email&&(r.email=e.t0.response.data.email[0]),a.setState({errors:r}));case 11:case"end":return e.stop()}},e,this,[[0,8]])})),a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){if(localStorage.getItem("token"))return r.a.createElement(y.a,{to:"/"});var e=this.state,t=e.errors,a=e.data;return r.a.createElement(g.MDBContainer,null,r.a.createElement(g.MDBRow,{className:"center"},r.a.createElement(g.MDBCol,{md:"5"},r.a.createElement(g.MDBCard,null,r.a.createElement(g.MDBCardBody,{className:"mx-4"},r.a.createElement("div",{className:"text-center"},r.a.createElement("h3",{className:"pink-text mb-5"},r.a.createElement("strong",null,"Sign up"))),t.username&&r.a.createElement(C.a,{type:"error",message:t.username}),t.email&&r.a.createElement(C.a,{type:"error",message:t.email}),t.password1&&r.a.createElement(C.a,{type:"error",message:t.password1}),t.password2&&a.password2!==a.password1&&r.a.createElement(C.a,{type:"error",message:t.password2}),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(g.MDBInput,{label:"Username",group:!0,type:"text",name:"username",onChange:this.handleChange,validate:!0}),r.a.createElement(g.MDBInput,{label:"Email",group:!0,type:"text",name:"email",onChange:this.handleChange,validate:!0}),r.a.createElement(g.MDBInput,{label:"Password",group:!0,type:"password",name:"password1",onChange:this.handleChange,validate:!0}),r.a.createElement(g.MDBInput,{label:" Confirm Password",group:!0,type:"password",name:"password2",onChange:this.handleChange,validate:!0}),r.a.createElement(g.MDBRow,{className:"d-flex align-items-center mb-4"},r.a.createElement(g.MDBCol,{md:"12",className:"text-center"},r.a.createElement("button",{type:"submit",className:"btn btn-pink btn-block btn-rounded z-depth-1"},r.a.createElement(g.MDBIcon,{icon:"paper-plane-o mr-2"})," Sign up "))))),r.a.createElement(g.MDBModalFooter,{className:"mx-5 pt-3 mb-1"},r.a.createElement("p",{className:"font-small grey-text d-flex justify-content-end"}," Have an account?",r.a.createElement(b.a,{to:"/login",className:"blue-text ml-1"}," Sign In ")))))))}}]),t}(Y),oe=a(110),ce=function(e){var t=e.component,a=e.render,n=Object(oe.a)(e,["component","render"]),s=localStorage.getItem("token");return r.a.createElement(w.a,Object.assign({},n,{render:function(e){return s?t?r.a.createElement(t,e):a(e):r.a.createElement(y.a,{to:{pathname:"/login",state:{from:e.location}}})}}))},le=function(e){var t=e.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,r.a.createElement(w.a,{path:"/register",exact:!0,component:se}),r.a.createElement(w.a,{path:"/login",exact:!0,component:J}),r.a.createElement(ce,{path:"/logout",exact:!0,component:te}),r.a.createElement(ce,{path:"/changepassword",exact:!0,render:function(e){return r.a.createElement(ae,Object.assign({},e,{user:t}))}}),r.a.createElement(ce,{path:"/post/:id",exact:!0,render:function(e){return r.a.createElement(ne,Object.assign({},e,{user:t}))}}),r.a.createElement(ce,{path:"/profile",exact:!0,render:function(e){return r.a.createElement(re,Object.assign({},e,{user:t}))}}),r.a.createElement(w.a,{path:"/not-found",component:ee}),r.a.createElement(w.a,{path:"/",exact:!0,render:function(e){return r.a.createElement(Z,Object.assign({},e,{user:t}))}}),r.a.createElement(y.a,{to:"/not-found"})))},ie=(a(206),function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(r)))).state={},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(m.a)(i.a.mark(function e(){var t,a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("token")){e.next=12;break}return e.prev=2,e.next=5,B("rest-auth/user/");case 5:t=e.sent,a=t.data,this.setState({user:a}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}},e,this,[[2,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(E,{user:e}),r.a.createElement(le,{user:e}))}}]),t}(n.Component));a(208),a(210),a(212),a(214),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(c.a,null,r.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[112,2,1]]]);
//# sourceMappingURL=main.6ff17eab.chunk.js.map